import{c as w}from"./chunk-RC5K63LK.mjs";import{a as M,b as c,c as T,d as A,e as O,f as C,g as _,h as d,i as V,k as p,l as G,m as j,n as k,o as z,p as D,r,s as L}from"./chunk-K5XJKIFT.mjs";import{n as I}from"./chunk-HWTX3HVX.mjs";import{c as x}from"./chunk-6XMAPYSX.mjs";import{b as l}from"./chunk-JPG25VX2.mjs";import{a as s,b as F,c as y}from"./chunk-VZJ62XF7.mjs";import{a as E,b as B,c as h,d as S,e as b,f as v,g as $}from"./chunk-BKWJ4G7T.mjs";var R=new TextEncoder;function Z(e){return e?.map(n=>c(n)?w(n):n)??[]}async function P(e,n,t,i){let f=(await x({aptosConfig:i,accountAddress:e,moduleName:n})).abi?.exposed_functions.find(o=>o.name===t);if(!f)throw new Error(`Could not find entry function ABI for '${e}::${n}::${t}'`);if(!f.is_entry)throw new Error(`'${e}::${n}::${t}' is not an entry function`);let N=L(f),g=[];for(let o=N;o<f.params.length;o+=1)g.push(w(f.params[o],{allowGenerics:!0}));return{typeParameters:f.generic_type_params,parameters:g}}function a(e,n,t,i,u){if(i>=n.parameters.length)throw new Error(`Too many arguments for '${e}', expected ${n.parameters.length}`);let f=n.parameters[i];return U(t,f,i,u)}function U(e,n,t,i){return C(e)?(m(n,e,t),e):X(e,n,t,i)}function X(e,n,t,i){if(n.isBool()){if(M(e))return new E(e);r("boolean",t)}if(n.isAddress()){if(c(e))return l.fromString(e);r("string | AccountAddress",t)}if(n.isU8()){if(T(e))return new B(e);r("number",t)}if(n.isU16()){if(T(e))return new h(e);r("number",t)}if(n.isU32()){if(T(e))return new S(e);r("number",t)}if(n.isU64()){if(A(e))return new b(BigInt(e));r("bigint | number | string",t)}if(n.isU128()){if(A(e))return new v(BigInt(e));r("bigint | number | string",t)}if(n.isU256()){if(A(e))return new $(BigInt(e));r("bigint | number | string",t)}if(n.isGeneric()){let u=n.value;if(u<0||u>=i.length)throw new Error(`Generic argument ${n.toString()} is invalid for argument ${t}`);return U(e,i[u],t,i)}if(n.isVector()){if(n.value.isU8()){if(c(e))return s.U8(R.encode(e));if(e instanceof Uint8Array)return s.U8(e);if(e instanceof ArrayBuffer)return s.U8(new Uint8Array(e))}if(Array.isArray(e))return new s(e.map(u=>U(u,n.value,t,i)));throw new Error(`Type mismatch for argument ${t}, type '${n.toString()}'`)}if(n.isStruct()){if(n.isString()){if(c(e))return new F(e);r("string",t)}if(n.isObject()){if(c(e))return l.fromString(e);r("string | AccountAddress",t)}if(n.isOption())return O(e)?new y(null):new y(U(e,n.value.typeArgs[0],t,i));throw new Error(`Unsupported struct input type for argument ${t}, type '${n.toString()}'`)}throw new Error(`Type mismatch for argument ${t}, type '${n.toString()}'`)}function m(e,n,t){if(e.isBool()){if(_(n))return;r("Bool",t)}if(e.isAddress()){if(d(n))return;r("AccountAddress",t)}if(e.isU8()){if(p(n))return;r("U8",t)}if(e.isU16()){if(G(n))return;r("U16",t)}if(e.isU32()){if(j(n))return;r("U32",t)}if(e.isU64()){if(k(n))return;r("U64",t)}if(e.isU128()){if(z(n))return;r("U128",t)}if(e.isU256()){if(D(n))return;r("U256",t)}if(e.isVector()){if(n instanceof s){n.values.length>0&&m(e.value,n.values[0],t);return}r("MoveVector",t)}if(e instanceof I){if(e.isString()){if(V(n))return;r("MoveString",t)}if(e.isObject()){if(d(n))return;r("AccountAddress",t)}if(e.isOption()){if(n instanceof y){n.value!==void 0&&m(e.value.typeArgs[0],n.value,t);return}r("MoveOption",t)}}throw new Error(`Type mismatch for argument ${t}, expected '${e.toString()}'`)}export{Z as a,P as b,a as c,U as d};
//# sourceMappingURL=chunk-CRFZIYSY.mjs.map